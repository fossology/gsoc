"use strict";(self.webpackChunkgosc=self.webpackChunkgosc||[]).push([[43406],{13013:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/monk-0194a27bc909a169339494b214dc6d92.png"},28453:(e,s,i)=>{i.d(s,{R:()=>d,x:()=>c});var n=i(96540);const t={},o=n.createContext(t);function d(e){const s=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(o.Provider,{value:s},e.children)}},36147:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>r,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"2024/rest/updates/Divij/2024-06-18","title":"Week 4","description":"\x3c!--","source":"@site/docs/2024/rest/updates/Divij/2024-06-18.md","sourceDirName":"2024/rest/updates/Divij","slug":"/2024/rest/updates/Divij/2024-06-18","permalink":"/gsoc/docs/2024/rest/updates/Divij/2024-06-18","draft":false,"unlisted":false,"editUrl":"https://github.com/fossology/gsoc/edit/main/docs/2024/rest/updates/Divij/2024-06-18.md","tags":[{"inline":true,"label":"gsoc24","permalink":"/gsoc/docs/tags/gsoc-24"},{"inline":true,"label":"rest","permalink":"/gsoc/docs/tags/rest"}],"version":"current","frontMatter":{"title":"Week 4","author":"Divij Sharma","tags":["gsoc24","rest"]},"sidebar":"2024","previous":{"title":"Week 3","permalink":"/gsoc/docs/2024/rest/updates/Divij/2024-06-11"},"next":{"title":"Week 5","permalink":"/gsoc/docs/2024/rest/updates/Divij/2024-06-25"}}');var t=i(74848),o=i(28453);const d={title:"Week 4",author:"Divij Sharma",tags:["gsoc24","rest"]},c="Week 4 meeting and activities",r={},l=[{value:"Attendees",id:"attendees",level:2},{value:"Discussion",id:"discussion",level:2},{value:"Activities",id:"activities",level:2},{value:"Screenshots",id:"screenshots",level:2}];function h(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"week-4-meeting-and-activities",children:"Week 4 meeting and activities"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.em,{children:"(June 18,2024)"})}),"\n",(0,t.jsx)(s.h2,{id:"attendees",children:"Attendees"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/dvjsharma",children:"Divij Sharma"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/GMishx",children:"Gaurav Mishra"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/shaheemazmalmmd",children:"Shaheem Azmal M MD"})}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"discussion",children:"Discussion"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Gave updates and demo on previous week's work."}),"\n",(0,t.jsx)(s.li,{children:"Discussed on the endpoint requirements for the One Shot Analysis and User Copyright Findings."}),"\n",(0,t.jsx)(s.li,{children:"Resolved some queries regarding the architecture of APIs."}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"activities",children:"Activities"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"One Shot Analysis"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Exposed 3 new endpoints to enable One Shot Analysis in the REST API:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/uploads/oneshot/nomos"})," to run a Nomos scan on the uploaded file."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/uploads/oneshot/monk"})," to run a Monk scan on the uploaded file."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/uploads/oneshot/ceu"})," to run Copyright, Email and URL scan on the uploaded file."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["All of these endpoints accept a file binary and return the scan results in the following format:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Data Type"})," : What is the scan returning (Nomos, Monk, CEU). Can take values like ",(0,t.jsx)(s.code,{children:"license"})," and ",(0,t.jsx)(s.code,{children:"copyright"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Highlight"})," : The highlighted text in the scan results based on the data type (license, copyright, emails, URLs etc)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.li,{children:"Decided on not returning the scanned file in the response as it increases unnecessary load on the server. It can always be accessed from the frontend."}),"\n",(0,t.jsxs)(s.li,{children:["Uplink PR: ",(0,t.jsx)(s.a,{href:"https://github.com/fossology/fossology/pull/2768",children:"feat(api): Added OneShot analysis endpoints for license & copyright"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"User Copyright Findings"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Exposed 5 new endpoints to enable User Copyright operations in the REST API:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/user-copyrights"})," to retrieve user copyright findings."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/user-copyrights/{hash}"})," to deactivate user copyright findings."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/user-copyrights/{hash}"})," to restore deactivated user copyright findings."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/user-copyrights/{hash}"})," to update user copyright findings."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/totalusercopyrights"})," to get the count of user copyright findings."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Uplink PR: ",(0,t.jsx)(s.a,{href:"https://github.com/fossology/fossology/pull/2717",children:"feat(api): New endpoints to get/delete/restore/update user copyright findings"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"OAuth 2.0 Authorization Code Flow"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Created the complete OAuth 2.0 Authorization Code Flow for the new UI."}),"\n",(0,t.jsxs)(s.li,{children:["Exposed the following endpoints to enable the mechanism:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/oauth/login"})," to get the authorization redirect URL from the server."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"/oauth/callback"})," to exchange the authorization code for an access token."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Below is how the flow works:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Frontend will hit the ",(0,t.jsx)(s.code,{children:"/oauth/login"})," endpoint to get the authorization URL and will be redirected to the authorization URL for the user to log in."]}),"\n",(0,t.jsx)(s.li,{children:"User will log in and authorize the client application, and they will be redirected back to the frontend with an authorization code and a state (to prevent CSRF attacks)."}),"\n",(0,t.jsxs)(s.li,{children:["Frontend will hit the ",(0,t.jsx)(s.code,{children:"/oauth/callback"})," endpoint with the authorization code and state to get the access token. The access token will be stored in the frontend and will be used to access the FOSSology API.","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"The authorization code will be exchanged for an access token by the FOSSology server using the configs."}),"\n",(0,t.jsxs)(s.li,{children:["This token will be decoded, and the user will be authenticated if they have the same ",(0,t.jsx)(s.code,{children:"client id"})," added in their active clients."]}),"\n",(0,t.jsx)(s.li,{children:"The drawback with this is the the user needs to know the client id to access the API."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Made a client side application ",(0,t.jsx)(s.a,{href:"https://github.com/dvjsharma/OAuthFossy",children:"OAuthFossy"})," to test the flow."]}),"\n",(0,t.jsxs)(s.li,{children:["Uplink PR: ",(0,t.jsx)(s.a,{href:"https://github.com/fossology/fossology/pull/2761",children:"feat(oauth): Added Authorization Code Grant OAuth functionality"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"screenshots",children:"Screenshots"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"One Shot Analysis"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["POST ",(0,t.jsx)(s.code,{children:"/uploads/oneshot/nomos"})," to run a Nomos scan on the uploaded file.\n",(0,t.jsx)(s.img,{alt:"Nomos",src:i(47466).A+"",width:"2214",height:"1221"})]}),"\n",(0,t.jsxs)(s.li,{children:["POST ",(0,t.jsx)(s.code,{children:"/uploads/oneshot/monk"})," to run a Monk scan on the uploaded file.\n",(0,t.jsx)(s.img,{alt:"Monk",src:i(13013).A+"",width:"2214",height:"1221"})]}),"\n",(0,t.jsxs)(s.li,{children:["POST ",(0,t.jsx)(s.code,{children:"/uploads/oneshot/ceu"})," to run Copyright, Email and URL scan on the uploaded file.\n",(0,t.jsx)(s.img,{alt:"CEU",src:i(36671).A+"",width:"2214",height:"1221"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"User Copyright Findings"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["GET ",(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/user-copyrights"})," to retrieve user copyright findings.\n",(0,t.jsx)(s.img,{alt:"get",src:i(93517).A+"",width:"1680",height:"969"})]}),"\n",(0,t.jsxs)(s.li,{children:["DELETE ",(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/user-copyrights/{hash}"})," to deactivate user copyright findings.\n",(0,t.jsx)(s.img,{alt:"delete",src:i(51632).A+"",width:"1645",height:"696"})]}),"\n",(0,t.jsxs)(s.li,{children:["PATCH ",(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/user-copyrights/{hash}"})," to restore deactivated user copyright findings.\n",(0,t.jsx)(s.img,{alt:"patch",src:i(78735).A+"",width:"1645",height:"696"})]}),"\n",(0,t.jsxs)(s.li,{children:["PUT ",(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/user-copyrights/{hash}"})," to update user copyright findings.\n",(0,t.jsx)(s.img,{alt:"put",src:i(51522).A+"",width:"1687",height:"895"})]}),"\n",(0,t.jsxs)(s.li,{children:["GET ",(0,t.jsx)(s.code,{children:"/uploads/{id}/item/{itemId}/totalusercopyrights"})," to get the count of user copyright findings.\n",(0,t.jsx)(s.img,{alt:"count",src:i(64540).A+"",width:"1920",height:"723"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"OAuth 2.0 Authorization Code Flow"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["GET ",(0,t.jsx)(s.code,{children:"/oauth/login"})," to get the authorization redirect URL from the server.\n",(0,t.jsx)(s.img,{alt:"login",src:i(51327).A+"",width:"1226",height:"741"})]}),"\n",(0,t.jsxs)(s.li,{children:["POST ",(0,t.jsx)(s.code,{children:"/oauth/callback"})," to exchange the authorization code for an access token.\n",(0,t.jsx)(s.img,{alt:"callback",src:i(61531).A+"",width:"1019",height:"1110"})]}),"\n"]}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},36671:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/ceu-053339097b9a40d365624876f5a00bdb.png"},47466:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/nomos-4c03dd5dd145ec129f4bd37e709c6294.png"},51327:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/login-b36bdae1269561fc682f4743e277cd0e.png"},51522:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/usercopyrightput-8948adb4b590a525e560a3069e307913.png"},51632:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/usercopyrightdelete-53c2b1e806661b5f9d8ef1941e52a061.png"},61531:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/callback-2237ca4dc507503de88da7cc5df3cdc1.png"},64540:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/usercopyrightcount-99c1ad4083ce2b66e7b5ef4ecbf1a016.png"},78735:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/usercopyrightpatch-03e4fcc592ed2e5250d9ea88c2123c7e.png"},93517:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/usercopyrightget-951c96d7dbec857faffb2f0d9a043567.png"}}]);